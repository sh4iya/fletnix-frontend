<div class="app-wrapper">

  <!-- NAVBAR -->
  <header class="navbar">
    <div class="logo">Fletnix</div>

    <div class="controls">
      <input
        type="text"
        placeholder="Search movies, shows..."
        [(ngModel)]="searchText"
        (ngModelChange)="applyFilters()"
      />

      <select
        [(ngModel)]="selectedType"
        (change)="applyFilters()">
        <option value="All">All</option>
        <option value="Movie">Movies</option>
        <option value="TV Show">TV Shows</option>
      </select>
    </div>

    <button class="logout-btn" (click)="logout()">Logout</button>
  </header>

  <!-- GRID WRAPPER (YOU WERE MISSING THIS) -->
  <div class="grid">

    <div class="card"
         *ngFor="let show of filteredShows"
         (click)="openDetails(show)">

      <div class="card-accent"></div>

      <!-- safe title -->
      <h3>{{ show.title || show.name || 'Untitled' }}</h3>

      <p>{{ show.description }}</p>

      <!-- cast -->
      <p class="cast">{{ show.cast }}</p>

      <span class="badge">{{ show.type }}</span>

    </div>

  </div>

</div>

<!-- PAGINATION -->
<div class="pagination" *ngIf="totalPages > 1">
  <button (click)="prevPage()" [disabled]="currentPage === 1">
    ⬅ Prev
  </button>

  <span>Page {{ currentPage }} of {{ totalPages }}</span>

  <button (click)="nextPage()" [disabled]="currentPage === totalPages">
    Next ➡
  </button>
</div>

<!-- DETAILS MODAL -->
<div class="overlay" *ngIf="selectedShow" (click)="closeDetails()"></div>

<div class="modal" *ngIf="selectedShow">
  <h2>{{ selectedShow.title }}</h2>

  <p><b>Type:</b> {{ selectedShow.type }}</p>
  <p><b>Director:</b> {{ selectedShow.director || 'N/A' }}</p>
  <p><b>Country:</b> {{ selectedShow.country }}</p>
  <p><b>Year:</b> {{ selectedShow.release_year }}</p>
  <p><b>Rating:</b> {{ selectedShow.rating }}</p>
  <p><b>Cast:</b> {{ selectedShow.cast }}</p>
  <p class="desc">{{ selectedShow.description }}</p>

  <button (click)="closeDetails()">Close</button>
</div>
